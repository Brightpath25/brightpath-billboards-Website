"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{1913:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var r=a(5853),l=a(2115);a(1225);var o=a(9434);let d=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.Y)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});d.displayName="Card",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.Y)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a),...l})}).displayName="CardHeader",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.Y)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})}).displayName="CardTitle",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.Y)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...l})}).displayName="CardDescription";let s=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.Y)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",a),...l})});s.displayName="CardContent";var n=a(8376),i=a(1949),c=a(6923),m=a(7223),g=a(8531);let b=()=>{let[e,t]=(0,l.useState)(null),[a,o]=(0,l.useState)(null),[b,h]=(0,l.useState)(!1),[u,p]=(0,l.useState)(""),[x,f]=(0,l.useState)(""),[v,N]=(0,l.useState)(""),[k,w]=(0,l.useState)(!0),[y,Y]=(0,l.useState)(!1),[D,F]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=document.getElementById("campaign-truck");if(!e)return;let t=()=>{Y(!0)};return e.addEventListener("load",t),()=>e.removeEventListener("load",t)},[]),(0,l.useEffect)(()=>{y&&(e||a)&&(async()=>{F(!0);try{var t,r;let l=document.getElementById("campaign-truck");if(!l)return void console.warn("Model viewer element not found");if(!(null==(t=l.model)?void 0:t.materials)){console.warn("Model or materials not available yet"),f("Upload complete - 3D preview updated"),setTimeout(()=>f(""),3e3);return}let o=l.model.materials;for(let t of(console.log("Available materials:",o.map(e=>e.name)),o)){let o=(null==(r=t.name)?void 0:r.toLowerCase())||"";if(e&&(o.includes("side")||o.includes("screen")||o.includes("led")))try{let a=await l.createTexture(e.url);t.pbrMetallicRoughness.baseColorTexture.setTexture(a),console.log("Applied left image to material: ".concat(t.name))}catch(e){console.warn("Could not apply texture to ".concat(t.name,":"),e)}if(a&&o.includes("back"))try{let e=await l.createTexture(a.url);t.pbrMetallicRoughness.baseColorTexture.setTexture(e),console.log("Applied back image to material: ".concat(t.name))}catch(e){console.warn("Could not apply texture to ".concat(t.name,":"),e)}}f("Uploaded successfully â€” updating live preview"),setTimeout(()=>f(""),3e3)}catch(e){console.error("Texture application error:",e),p("Could not apply texture to model. Please try again."),setTimeout(()=>p(""),4e3)}finally{setTimeout(()=>F(!1),300)}})()},[e,a,y]);let R=async(e,t)=>["image/jpeg","image/png","image/webp"].includes(e.type)?e.size>5242880?{error:"File size must be under 5 MB."}:new Promise(a=>{let r=new Image;r.onload=()=>{let e={width:r.width,height:r.height},l="";"left"===t?(Math.abs(r.width/r.height-16/9)>.1||r.width<1280)&&(l="Recommended 1280\xd7720 for side screens. Image may appear stretched or pixelated."):(Math.abs(r.width/r.height-1)>.1||r.width<720)&&(l="Recommended 720\xd7720 for the rear screen. Image may appear stretched or pixelated."),a({dimensions:e,warning:l}),URL.revokeObjectURL(r.src)},r.onerror=()=>{a({error:"Unable to load image. Please try a different file."}),URL.revokeObjectURL(r.src)},r.src=URL.createObjectURL(e)}):{error:"Please upload a PNG, JPG, or WEBP image."},L=e=>new Promise(t=>{let a=new Image,r=document.createElement("canvas"),l=r.getContext("2d");a.onload=()=>{r.width=100,r.height=100,l&&(l.drawImage(a,0,0,100,100),t(r.toDataURL())),URL.revokeObjectURL(a.src)},a.src=URL.createObjectURL(e)}),C=async(r,l)=>{let d=r[0];if(!d)return;p(""),f(""),N("");let s=await R(d,l);if(s.error){p(s.error),setTimeout(()=>p(""),4e3);return}s.warning&&(N(s.warning),setTimeout(()=>N(""),6e3));let n=URL.createObjectURL(d),i=await L(d),c={file:d,url:n,thumbnail:i,dimensions:s.dimensions};"left"===l?(e&&URL.revokeObjectURL(e.url),t(c)):(a&&URL.revokeObjectURL(a.url),o(c))},U=r=>{"left"===r?(e&&URL.revokeObjectURL(e.url),t(null)):(a&&URL.revokeObjectURL(a.url),o(null)),N("")},j=e=>{e.preventDefault(),h(!0)},E=e=>{e.preventDefault(),h(!1)},P=(e,t)=>{e.preventDefault(),h(!1);let a=e.dataTransfer.files;a.length>0&&C(a,t)};return(0,r.Y)("section",{id:"preview",className:"py-24 bg-black-hero",children:(0,r.Y)("div",{className:"container mx-auto px-4",children:(0,r.FD)("div",{className:"grid lg:grid-cols-2 gap-16 items-start",children:[(0,r.FD)("div",{className:"order-2 lg:order-1",children:[(0,r.FD)("div",{className:"mb-10",children:[(0,r.FD)("div",{className:"inline-flex items-center gap-2 bg-gold-base/10 border border-gold-base/30 text-gold-highlight px-6 py-2 rounded-full font-bold text-sm mb-6 backdrop-blur-sm",children:[(0,r.Y)("span",{className:"w-2 h-2 bg-gold-highlight rounded-full animate-pulse"}),"Live 3D Preview"]}),(0,r.FD)("h2",{className:"text-4xl md:text-5xl font-bold text-text-light mb-6",children:["Preview Your ",(0,r.Y)("span",{className:"text-gold-gradient",children:"Campaign"})]}),(0,r.Y)("p",{className:"text-lg md:text-xl text-text-mid leading-relaxed",children:"Upload your creative and instantly see it on our 3D LED billboard truck model."})]}),x&&(0,r.FD)("div",{className:"mb-6 p-4 bg-gold-base/10 border border-gold-base/30 rounded-xl flex items-center gap-3 animate-fade-in backdrop-blur-sm",children:[(0,r.Y)(n.A,{className:"h-5 w-5 flex-shrink-0 text-gold-highlight"}),(0,r.Y)("span",{className:"font-medium text-gold-highlight",children:x})]}),u&&(0,r.FD)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl flex items-center gap-3 animate-fade-in backdrop-blur-sm",children:[(0,r.Y)(i.A,{className:"h-5 w-5 flex-shrink-0 text-red-400"}),(0,r.Y)("span",{className:"font-medium text-red-400",children:u})]}),v&&(0,r.FD)("div",{className:"mb-6 p-4 bg-orange-500/10 border border-orange-500/30 rounded-xl flex items-center gap-3 animate-fade-in backdrop-blur-sm",children:[(0,r.Y)(i.A,{className:"h-5 w-5 flex-shrink-0 text-orange-400"}),(0,r.Y)("span",{className:"text-sm text-orange-400",children:v})]}),(0,r.FD)("div",{className:"space-y-6",children:[(0,r.Y)(d,{className:"border transition-all duration-300 ".concat(b?"border-gold-base bg-gold-base/5 shadow-gold-glow":"border-gold-base/20 hover:border-gold-base/50"," bg-black-card backdrop-blur-sm"),children:(0,r.FD)(s,{className:"p-6",children:[(0,r.FD)("div",{className:"border-2 border-dashed border-gold-base/30 rounded-xl p-8 text-center transition-all duration-300 hover:border-gold-base hover:bg-gold-base/5 cursor-pointer group",onDragOver:j,onDragLeave:E,onDrop:e=>P(e,"left"),onClick:()=>{var e;return null==(e=document.getElementById("upload-left"))?void 0:e.click()},children:[(0,r.Y)(c.A,{className:"h-10 w-10 text-gold-base/50 group-hover:text-gold-highlight mx-auto mb-4 transition-colors"}),(0,r.Y)("p",{className:"text-sm font-semibold text-text-light mb-2",children:"Side Screens (1280\xd7720)"}),(0,r.Y)("p",{className:"text-xs text-text-mid mb-6",children:"16:9 aspect ratio, appears on both sides"}),(0,r.Y)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:e=>e.target.files&&C(e.target.files,"left"),className:"hidden",id:"upload-left"}),(0,r.Y)("button",{type:"button",onClick:e=>{var t;e.stopPropagation(),null==(t=document.getElementById("upload-left"))||t.click()},className:"px-6 py-2 bg-gold-gradient text-black-hero rounded-lg font-semibold hover:scale-105 transition-transform",children:"Choose File"})]}),e&&(0,r.FD)("div",{className:"mt-6 flex items-center gap-4 p-3 bg-black-hero/30 rounded-lg border border-gold-base/20 animate-fade-in",children:[(0,r.Y)("img",{src:e.thumbnail,alt:"Left screen preview",className:"w-14 h-14 rounded-lg object-cover border border-gold-base/30"}),(0,r.FD)("div",{className:"flex-1 min-w-0",children:[(0,r.Y)("span",{className:"text-sm font-medium text-text-light block truncate",children:e.file.name}),e.dimensions&&(0,r.FD)("span",{className:"text-xs text-text-mid",children:[e.dimensions.width,"\xd7",e.dimensions.height,"px"]})]}),(0,r.Y)("button",{type:"button",onClick:()=>U("left"),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 p-2 rounded-lg transition-colors flex-shrink-0",children:(0,r.Y)(m.A,{className:"h-4 w-4"})})]})]})}),(0,r.Y)(d,{className:"border transition-all duration-300 ".concat(b?"border-gold-base bg-gold-base/5 shadow-gold-glow":"border-gold-base/20 hover:border-gold-base/50"," bg-black-card backdrop-blur-sm"),children:(0,r.FD)(s,{className:"p-6",children:[(0,r.FD)("div",{className:"border-2 border-dashed border-gold-base/30 rounded-xl p-8 text-center transition-all duration-300 hover:border-gold-base hover:bg-gold-base/5 cursor-pointer group",onDragOver:j,onDragLeave:E,onDrop:e=>P(e,"back"),onClick:()=>{var e;return null==(e=document.getElementById("upload-back"))?void 0:e.click()},children:[(0,r.Y)(c.A,{className:"h-10 w-10 text-gold-base/50 group-hover:text-gold-highlight mx-auto mb-4 transition-colors"}),(0,r.Y)("p",{className:"text-sm font-semibold text-text-light mb-2",children:"Back Screen (720\xd7720)"}),(0,r.Y)("p",{className:"text-xs text-text-mid mb-6",children:"1:1 aspect ratio, square format"}),(0,r.Y)("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:e=>e.target.files&&C(e.target.files,"back"),className:"hidden",id:"upload-back"}),(0,r.Y)("button",{type:"button",onClick:e=>{var t;e.stopPropagation(),null==(t=document.getElementById("upload-back"))||t.click()},className:"px-6 py-2 bg-gold-gradient text-black-hero rounded-lg font-semibold hover:scale-105 transition-transform",children:"Choose File"})]}),a&&(0,r.FD)("div",{className:"mt-6 flex items-center gap-4 p-3 bg-black-hero/30 rounded-lg border border-gold-base/20 animate-fade-in",children:[(0,r.Y)("img",{src:a.thumbnail,alt:"Back screen preview",className:"w-14 h-14 rounded-lg object-cover border border-gold-base/30"}),(0,r.FD)("div",{className:"flex-1 min-w-0",children:[(0,r.Y)("span",{className:"text-sm font-medium text-text-light block truncate",children:a.file.name}),a.dimensions&&(0,r.FD)("span",{className:"text-xs text-text-mid",children:[a.dimensions.width,"\xd7",a.dimensions.height,"px"]})]}),(0,r.Y)("button",{type:"button",onClick:()=>U("back"),className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 p-2 rounded-lg transition-colors flex-shrink-0",children:(0,r.Y)(m.A,{className:"h-4 w-4"})})]})]})})]}),(0,r.FD)("div",{className:"mt-8 p-6 bg-gold-base/5 border border-gold-base/20 rounded-xl backdrop-blur-sm",children:[(0,r.Y)("p",{className:"text-sm text-gold-highlight font-semibold mb-3",children:"Image Requirements:"}),(0,r.FD)("ul",{className:"text-xs text-text-mid space-y-2",children:[(0,r.FD)("li",{className:"flex items-start gap-2",children:[(0,r.Y)("span",{className:"text-gold-base mt-0.5",children:"â€¢"}),(0,r.FD)("span",{children:[(0,r.Y)("strong",{className:"text-text-light",children:"Formats:"})," PNG, JPG, WEBP â€¢ Max 5 MB"]})]}),(0,r.FD)("li",{className:"flex items-start gap-2",children:[(0,r.Y)("span",{className:"text-gold-base mt-0.5",children:"â€¢"}),(0,r.FD)("span",{children:[(0,r.Y)("strong",{className:"text-text-light",children:"Recommended:"})," 1280\xd7720 for sides, 720\xd7720 for back"]})]}),(0,r.FD)("li",{className:"flex items-start gap-2",children:[(0,r.Y)("span",{className:"text-gold-base mt-0.5",children:"â€¢"}),(0,r.FD)("span",{children:[(0,r.Y)("strong",{className:"text-text-light",children:"Quality:"})," Higher resolution = sharper display"]})]})]}),(0,r.Y)("p",{className:"text-xs text-text-mid/60 italic mt-4",children:"* Previews are illustrative. Final on-road brightness and color may vary."})]})]}),(0,r.FD)("div",{className:"order-1 lg:order-2",children:[(0,r.FD)("div",{className:"relative w-full bg-black-card/30 border border-gold-base/20 rounded-2xl overflow-hidden backdrop-blur-sm",style:{height:"600px"},children:[!y&&(0,r.Y)("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-black-panel/80 backdrop-blur-md",children:(0,r.FD)("div",{className:"text-center",children:[(0,r.Y)("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-4 border-gold-base/20 border-t-gold-highlight mb-4"}),(0,r.Y)("p",{className:"text-sm text-gold-highlight font-semibold",children:"Preparing your 3D truck previewâ€¦"})]})}),D&&(0,r.Y)("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:(0,r.Y)("div",{className:"bg-black-card/95 border border-gold-base/30 text-gold-highlight px-6 py-3 rounded-xl shadow-gold-glow backdrop-blur-sm animate-fade-in",children:(0,r.Y)("p",{className:"text-sm font-semibold",children:"Applying texture..."})})}),(0,r.Y)("model-viewer",{id:"campaign-truck",src:"https://cdn.jsdelivr.net/gh/Brightpath25/brightpath-3d-assets@main/Brightpath_LED_Truck_WebReady.glb","camera-controls":!0,"disable-zoom":!0,"auto-rotate":k,"shadow-intensity":"0.5",exposure:"0.9","tone-mapping":"aces","environment-image":"neutral",ar:!0,"ar-modes":"webxr scene-viewer quick-look",style:{width:"100%",height:"100%",backgroundColor:"transparent"},"field-of-view":"35deg","min-camera-orbit":"auto 10deg auto","max-camera-orbit":"auto 85deg auto","camera-orbit":"225deg 25deg 6m","interaction-prompt":"none",crossOrigin:"anonymous",onLoad:()=>Y(!0),className:"transition-opacity duration-500"}),(0,r.FD)("div",{className:"absolute left-4 bottom-4 flex flex-wrap gap-3",children:[(0,r.FD)("button",{onClick:()=>{let e=document.getElementById("campaign-truck");e&&(e.cameraOrbit="225deg 25deg 6m",e.cameraTarget="auto auto auto")},className:"flex items-center gap-2 px-4 py-2 bg-black-card/90 backdrop-blur-md hover:bg-black-card border border-gold-base/20 hover:border-gold-base/50 rounded-lg shadow-lg transition-all text-text-light text-sm font-medium",children:[(0,r.Y)(g.A,{className:"h-4 w-4 text-gold-base"}),"Reset View"]}),(0,r.FD)("label",{className:"inline-flex items-center gap-2 px-4 py-2 bg-black-card/90 backdrop-blur-md hover:bg-black-card border border-gold-base/20 hover:border-gold-base/50 rounded-lg shadow-lg cursor-pointer transition-all text-text-light text-sm font-medium",children:[(0,r.Y)("input",{type:"checkbox",checked:k,onChange:e=>w(e.target.checked),className:"w-4 h-4 text-gold-base border-gold-base/30 rounded focus:ring-gold-base accent-gold-base"}),"Auto-rotate"]})]})]}),(0,r.Y)("div",{className:"mt-6 p-5 bg-gold-gradient rounded-xl text-black-hero text-center",children:(0,r.FD)("p",{className:"text-sm font-semibold",children:[(0,r.Y)("strong",{children:"Interactive 3D Model"})," â€¢ Drag to rotate â€¢ Camera controls enabled"]})}),(0,r.Y)("p",{className:"text-center text-sm text-text-mid mt-6",children:"Preview of LED billboard truck with your creative on side and back screens"})]})]})})})}}}]);